# Global configuration
global:
  serviceNamespace: {{ quantanexus_cs_namespace }}
  serviceDomain: {{ quantanexus_cs_domain }}
  domainName: {{ quantanexus_domain_name }}
  # registry: harbor.hi168.com/quantanexus
  # In China, please use aliyuncs
  registry: {{ quantanexus_image_registry }}
  useHttpIP: {{ quantanexus_use_http_ip }}
  mgrDomainIP: {{ quantanexus_mgr_domain_ip }}

# Cert Manager 配置块
certManager:
  enabled: true
  certificateName: 
  issuerName: {{ quantanexus_cert_manager_issuer_name }} 
  issuerKind: ClusterIssuer 
  # issuerSecret:: qn-selfsigned-ca-tls
  dnsNames:
    - {{ quantanexus_domain_name }}
ingress:
  tlsManual: false
  tlsSecret:
    name: quantanexus-tls
    certificate: certificate-Base64encoded-tLQo=
    privateKey: privateKey-Base64encoded-tLQo=
  tlsCommonSecret:
    name: quantanexus-tls-hwua-common-4
    certificate: certificate-common-Base64encoded-tLQo=
    privateKey: privateKey-common-Base64encoded-tLQo=


postgresql:
  enabled: true
  # 主数据库镜像配置
  image:
    registry: registry.cn-hangzhou.aliyuncs.com/quantanexus
    repository: postgresql
    tag: 14.4.0-debian-11-r23
    pullPolicy: IfNotPresent
  primary:
    persistence:
      enabled: true
      storageClass: ""
      size: 3Gi
quantanexus:
  enabled: true
  storage:
    # 新增开关: 控制是否使用 hostPath 卷。false 表示使用 PVC (Longhorn 自动分配)
    hostPathEnabled: false 
    
    # 路径配置 (hostPathEnabled: true 时使用)
    quantanexusData: "/var/lib/quantanexus/quantanexus"
    quantanexusMisc: "/var/lib/quantanexus/quantanexus-misc"
    runtime: "/mnt/quantanexus/runtime"

    # PVC 大小配置 (hostPathEnabled: false 时使用)
    # 请根据您的实际需求调整这些存储大小
    pvcSizes:
      runtime: 3Gi  # QuantaNexus 运行时卷大小
      data: 3Gi     # QuantaNexus 数据卷大小
      misc: 2Gi     # QuantaNexus 杂项卷大小    
