apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: root-ca-issuer
spec:
  selfSigned: {}
---
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: root-ca
  namespace: cert-manager
spec:
  secretName: root-ca-secret
  commonName: "QuantaNexus Root CA"
  subject:
    organizations:
      - "QuantaNexus"
  duration: 87600h
  renewBefore: 720h
  issuerRef:
    name: root-ca-issuer
    kind: ClusterIssuer
  isCA: true
  usages:
    - digital signature
    - key encipherment
    - cert sign
    - crl sign
---
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: quantanexus-ca-issuer
spec:
  ca:
    secretName: root-ca-secret
---
# apiVersion: cert-manager.io/v1
# kind: Certificate
# metadata:
#   name: quantanexus-tls
#   namespace: quantanexus
# spec:
#   secretName: quantanexus-tls-secret
#   duration: 2160h
#   renewBefore: 360h
#   subject:
#     organizations:
#       - QuantaNexus
#   commonName: qntest003.hi168.com
#   dnsNames:
#     - qntest002.hi168.com
#   issuerRef:
#     name: quantanexus-ca-issuer
#     kind: ClusterIssuer
#   usages:
#     - server auth
#     - client auth
